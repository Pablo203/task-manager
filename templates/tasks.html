{% extends 'base.html' %}

{% block sidebar %}
  <li class="nav-item">
    <a href="{% url 'addTask' projectId %}" class="nav-link collapsed">
      <button type="button" class="btn btn-primary">
        Add task
      </button>
    </a>
  </li>
{% endblock %}
          
{% block content %}
<div class="container-fluid">
    <div class="row">
      <div class="col-sm-3">
        <h4>
          <b>
            To do
          </b>
        </h4>
        <div class="column">
          {% for task in toDoTasks %}
            <div class="card info-card list-group-item" id="{{ task.id }}" draggable="true" ondragstart="onDragStart(event);">
              <div class="card-body">
                <h5 class="card-title">{{ task.name }}</span></h5>
                    <h6>{{ task.description }}</h6>
                    <a href="{% url 'taskDetail' projectId task.id %}">
                      Show details
                    </a>
              </div>
            </div>
          {% endfor %}
        </div>
      </div>
        
        <div class="col-sm-3">
          <h4>
            <b>
              In progress
            </b>
          </h4>
          <div class="column" ondragover="onDragOver(event);" ondrop="onDrop(event);">
            {% for task in inProgressTasks %}
              <div class="card info-card list-group-item">
                <div class="card-body">
                  <h5 class="card-title">{{ task.name }}</span></h5>
                      <h6>{{ task.shortDescription }}</h6>
                      <a href="{% url 'taskDetail' projectId task.id %}">
                        Show details
                      </a>
                </div>
              </div>
            {% endfor %}
          </div>
        </div>

        <div class="col-sm-3">
          <h4>
            <b>
              Done
            </b>
          </h4>
          {% for task in doneTasks %}
          <div class="card info-card list-group-item" draggable="true">
            <div class="card-body">
              <h5 class="card-title">{{ task.name }}</span></h5>
                  <h6>{{ task.shortDescription }}</h6>
                  <a href="{% url 'taskDetail' projectId task.id %}">
                    Show details
                  </a>
            </div>
          </div>
          {% endfor %}
        </div>

      </div>
    </div>
    {% load static %}
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.14.0/Sortable.min.js" integrity="sha512-zYXldzJsDrNKV+odAwFYiDXV2Cy37cwizT+NkuiPGsa9X1dOz04eHvUWVuxaJ299GvcJT31ug2zO4itXBjFx4w==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="{% static '/tasks/main.js' %}"></script>
{% endblock %}